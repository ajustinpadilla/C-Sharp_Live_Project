@model IEnumerable<TheatreCMS.Models.Part>

@{
  ViewBag.Title = "Part";
}

<h2>Part</h2>

@if (User.IsInRole("Admin"))
{
  <p>
    @Html.ActionLink("Create New", "Create")
  </p>
}
<table class="table admin-tables">
  <tr>
    <th>
      @Html.DisplayNameFor(model => model.Production.Title)
    </th>
    <th>
      @Html.DisplayNameFor(model => model.Person.Name)
    </th>
    <th>
      @Html.DisplayNameFor(model => model.Character)
    </th>
    <th>
      @Html.DisplayNameFor(model => model.Type)
    </th>
    <th>
      @Html.DisplayNameFor(model => model.Details)
    </th>
    <th></th>
  </tr>

  @foreach (var item in Model)
  {
    <tr>
      <td>
        @Html.DisplayFor(modelItem => item.Production.Title)
      </td>
      <td>
        @Html.DisplayFor(modelItem => item.Person.Name)
      </td>
      <td>
        @Html.DisplayFor(modelItem => item.Character)
      </td>
      <td>
        @Html.DisplayFor(modelItem => item.Type)
      </td>
      <td>
        @Html.DisplayFor(modelItem => item.Details)
      </td>
@*      <td>
        @if (User.IsInRole("Admin"))
        {
          @Html.ActionLink("Edit", "Edit", new { id = item.PartID }) |
          @Html.ActionLink("Delete", "Delete", new { id = item.PartID })|
        }
        @Html.ActionLink("Details", "Details", new { id = item.PartID })
      </td>*@
      @if (User.IsInRole("Admin"))
      {
    <td>
      @Html.ActionLink("Edit", "Edit", new { id = item.PartID }) |
      @Html.ActionLink("Delete", "Delete", new { id = item.PartID }) |
      @Html.ActionLink("Details", "Details", new { id = item.PartID })
    </td>
      }
      @if (!User.IsInRole("Admin"))
      {
      <td>
        @Html.ActionLink("Details", "Details", new { id = item.PartID }) 
      </td>
      }
    </tr>
  }

</table>
