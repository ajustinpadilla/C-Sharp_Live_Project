@model TheatreCMS.Models.Production
@using TheatreCMS.Controllers


@{
    ViewBag.Title = "Details";
}
<div class="container">
    <h2>Details</h2>
    <div>
        <h4>Production</h4>
        <hr />
        <div class="row">
            <dl class="dl-horizontal justify-content-start col-md-9">
                <dt class="col-md-9">
                    @Html.DisplayNameFor(model => model.Title)
                </dt>

                <dd class="col-md-9">
                    @Html.DisplayFor(model => model.Title)
                </dd>

                <dt class="col-md-9">
                    @Html.DisplayNameFor(model => model.Playwright)
                </dt>

                <dd class="col-md-9">
                    @Html.DisplayFor(model => model.Playwright)
                </dd>

                <dt class="col-md-9">
                    @Html.DisplayNameFor(model => model.Description)
                </dt>

                <dd class="col-md-9">
                    @Html.DisplayFor(model => model.Description)
                </dd>
                <dt class="col-md-9">
                    @Html.DisplayNameFor(model => model.Runtime)
                </dt>

                <dd class="col-md-9">
                    @Html.DisplayFor(model => model.Runtime)
                </dd>

                <dt class="col-md-9">
                    @Html.DisplayNameFor(model => model.OpeningDay)
                </dt>

                <dd class="col-md-9">
                    @Html.DisplayFor(model => model.OpeningDay)
                </dd>

                <dt class="col-md-9">
                    @Html.DisplayNameFor(model => model.ClosingDay)
                </dt>

                <dd class="col-md-9">
                    @Html.DisplayFor(model => model.ClosingDay)
                </dd>

                <dt class="col-md-9">
                    @Html.DisplayNameFor(model => model.DefaultPhoto)
                </dt>

                <dd class="col-md-9">

                    @{
                        if (Model.DefaultPhoto != null)
                        {
                            <img src="data:image;base64,@System.Convert.ToBase64String(Model.DefaultPhoto.Photo)" />

                            //byte[] thumbBytes = ImageUploadController.ImageThumbnail(item.PromoPhoto, 370, 250);
                            //var base64 = System.Convert.ToBase64String(thumbBytes);
                            //img = String.Format("data:image/png;base64,{0}", base64);
                        }
                        else
                        {
                            <p>No image yet</p>
                        }
                    }
                </dd>

                <dt class="col-md-9">
                    @Html.DisplayNameFor(model => model.ShowtimeEve)

                </dt>

                <dd class="col-md-9">
                    @Html.DisplayFor(model => model.ShowtimeEve)

                </dd>

                <dt class="col-md-9">
                    @Html.DisplayNameFor(model => model.ShowtimeMat)

                </dt>

                <dd class="col-md-9">
                    @Html.DisplayFor(model => model.ShowtimeMat)
                </dd>

                <dt class="col-md-9">
                    @Html.DisplayNameFor(model => model.TicketLink)

                </dt>

                <dd class="col-md-9">
                    @Html.DisplayFor(model => model.TicketLink)
                </dd>

                <dt class="col-md-9">
                    @Html.DisplayNameFor(model => model.Season)
                </dt>

                <dd class="col-md-9">
                    @Html.DisplayFor(model => model.Season)
                </dd>

                <dt class="col-md-9">
                    @Html.DisplayNameFor(model => model.IsCurrent)

                </dt>

                <dd class="col-md-9">
                    @Html.DisplayFor(model => model.IsCurrent)
                </dd>

                <dt class="col-md-9">
                    @Html.DisplayNameFor(model => model.IsWorldPremiere)

                </dt>

                <dd class="col-md-9">
                    @Html.DisplayFor(model => model.IsWorldPremiere)
                </dd>

                


            </dl>
            <div class="justify-content-end col-md-3">
                <dl>
                    @if (Model.Parts.Count != 0)
                    {
                        <dt>
                            @Html.DisplayNameFor(model => model.Parts)
                        </dt>
                        foreach (var part in Model.Parts)
                        {
                            <dd>
                                <a href="/Part/Details/@part.PartID">@Html.DisplayFor(model => part.Character)</a>
                            </dd>
                        }
                    }
                </dl>
            </div>
        </div>
    </div>
</div>
<p>
    @Html.ActionLink("Edit", "Edit", new { id = Model.ProductionId }) |
    @Html.ActionLink("Current Productions", "Current") |
    @Html.ActionLink("Back to List", "Index")
</p>
